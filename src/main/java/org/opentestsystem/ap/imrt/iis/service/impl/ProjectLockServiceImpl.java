package org.opentestsystem.ap.imrt.iis.service.impl;

import org.opentestsystem.ap.imrt.iis.repository.ProjectLockRepository;
import org.opentestsystem.ap.imrt.iis.service.ProjectLockService;
import org.springframework.stereotype.Service;

@Service
public class ProjectLockServiceImpl implements ProjectLockService {
    private final ProjectLockRepository projectLockRepository;

    public ProjectLockServiceImpl(ProjectLockRepository projectLockRepository) {
        this.projectLockRepository = projectLockRepository;
    }

    @Override
    public long lockProject(int projectId) {
        return projectLockRepository.acquireLock(projectId);
    }

    @Override
    public void unlockProject(int projectId, long lockId) {
        projectLockRepository.releaseLock(projectId, lockId);
    }
}
