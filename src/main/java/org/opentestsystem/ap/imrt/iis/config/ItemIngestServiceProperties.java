package org.opentestsystem.ap.imrt.iis.config;

import org.apache.commons.lang3.StringUtils;
import org.springframework.boot.context.properties.ConfigurationProperties;
import org.springframework.stereotype.Component;

@Component
@ConfigurationProperties(prefix = "iis")
public class ItemIngestServiceProperties {
    private long retryInitialInterval = 1000;
    private double retryIntervalMultiplier = 2;
    private long retryMaxInterval = 5000;
    private int retryAmount = 3;
    private int imrtPageQueryLimit = 1000;
    private String itemValidationServiceUrl = StringUtils.EMPTY;

    /**
     * @return the initial interval retry time that will be used as we graduate to larger numbers between retries
     */
    public long getRetryInitialInterval() {
        return retryInitialInterval;
    }

    public void setRetryInitialInterval(long retryInitialInterval) {
        this.retryInitialInterval = retryInitialInterval;
    }

    /**
     * @return the interval between retries
     */
    public double getRetryIntervalMultiplier() {
        return retryIntervalMultiplier;
    }

    public void setRetryIntervalMultiplier(double retryIntervalMultiplier) {
        this.retryIntervalMultiplier = retryIntervalMultiplier;
    }

    /**
     * @return the max interval the retry will scale to
     */
    public long getRetryMaxInterval() {
        return retryMaxInterval;
    }

    public void setRetryMaxInterval(long retryMaxInterval) {
        this.retryMaxInterval = retryMaxInterval;
    }

    /**
     * @return the number of times a message will be retried
     */
    public int getRetryAmount() {
        return retryAmount;
    }

    public void setRetryAmount(int retryAmount) {
        this.retryAmount = retryAmount;
    }

    /**
     * @return The number of records returned in a database query that uses pagination
     */
    public int getImrtPageQueryLimit() {
        return imrtPageQueryLimit;
    }

    public void setImrtPageQueryLimit(final int imrtPageQueryLimit) {
        this.imrtPageQueryLimit = imrtPageQueryLimit;
    }

    /**
     * @return the item validation service URL
     */
    public String getItemValidationServiceUrl() {
        return itemValidationServiceUrl;
    }

    public void setItemValidationServiceUrl(final String itemValidationServiceUrl) {
        this.itemValidationServiceUrl = itemValidationServiceUrl;
    }
}
