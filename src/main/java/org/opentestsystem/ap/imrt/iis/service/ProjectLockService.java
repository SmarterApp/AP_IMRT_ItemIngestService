package org.opentestsystem.ap.imrt.iis.service;

import java.util.Optional;

/**
 * Provides locking for projects.
 */
public interface ProjectLockService {

    /**
     * Attempts to lock the given project
     *
     * @param projectId Unique identifier for the project
     * @return A unique identifier for the lock, which must be used in the call to unlock, or null if the lock cannot be acquired.
     */
    Optional<Long> lockProject(int projectId);

    /**
     * Attempts to unlock the given project. If the current lock does not match the supplied lock value,
     * then the lock will not be updated.
     *
     * @param projectId Unique identifier for the project
     * @param lockId    Unique identifier for the lock, as returned from a call to lockProject
     */
    void unlockProject(int projectId, long lockId);
}
