package org.opentestsystem.ap.imrt.iis.message;

import org.opentestsystem.ap.common.imrt.service.OperationalEventService;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.util.ErrorHandler;

public class MessageErrorHandler implements ErrorHandler {
    private static final Logger LOG = LoggerFactory.getLogger(MessageErrorHandler.class);

    private final OperationalEventService logger;

    public MessageErrorHandler(final OperationalEventService logger) {
        this.logger = logger;
    }

    @Override
    public void handleError(final Throwable t) {
        logger.error(LOG, t, "Unexpected error sending or receiving rabbitmq messages");
    }
}
