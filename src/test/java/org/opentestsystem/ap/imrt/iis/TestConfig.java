package org.opentestsystem.ap.imrt.iis;

import org.opentestsystem.ap.imrt.common.service.OperationalEventService;
import org.opentestsystem.ap.imrt.iis.client.GitlabHookClient;
import org.opentestsystem.ap.imrt.iis.client.ItemBankClient;
import org.opentestsystem.ap.imrt.iis.config.ItemBankProperties;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.context.annotation.Primary;

import static org.mockito.Mockito.mock;

/**
 * Configuration class to create mocks for unit testing. Beans here are marked Primary
 * and will take precedence over the Beans defined in the application code.
 */
@Configuration
public class TestConfig {

    @Bean
    @Primary
    public ItemBankProperties getItemBankProperties() {
        return new ItemBankProperties();
    }

    @Bean
    @Primary
    public ItemBankClient getItemBankClient() {
        return mock(ItemBankClient.class);
    }

    @Bean
    @Primary
    public GitlabHookClient getGitlabHookClient() {
        return mock(GitlabHookClient.class);
    }

    @Bean
    @Primary
    public OperationalEventService getOperationalEventService() {
        return mock(OperationalEventService.class);
    }
}
